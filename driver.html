<script>
async function searchDriver() {
  const phone = document.getElementById('phone').value;
  const result = document.getElementById('result');

  result.innerText = 'ძებნა...';

  try {
    const response = await fetch(
      `https://aiwtaxi-backend.onrender.com/driver-by-phone?phone=${encodeURIComponent(phone)}`
    );

    const text = await response.text();

    // თუ JSON არაა — მაინც ვაჩვენებთ
    try {
      const json = JSON.parse(text);
      result.innerText = JSON.stringify(json, null, 2);
    } catch {
      result.innerText = text;
    }

  } catch (err) {
    result.innerText = 'Failed to fetch';
  }
}
</script>
