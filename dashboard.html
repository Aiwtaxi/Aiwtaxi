<!DOCTYPE html>
<html lang="ka">
<head>
  <meta charset="UTF-8" />
  <title>AIW Taxi – Driver Dashboard</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <style>
    body {
      background: #0b0b0b;
      color: #fff;
      font-family: Arial, sans-serif;
      padding: 20px;
    }
    .card {
      max-width: 420px;
      margin: auto;
      background: #151515;
      border-radius: 12px;
      padding: 20px;
    }
    h1 {
      text-align: center;
      color: #ffd400;
      margin-bottom: 20px;
    }
    label {
      font-size: 14px;
      opacity: 0.8;
    }
    input {
      width: 100%;
      padding: 12px;
      margin: 8px 0 16px 0;
      border-radius: 8px;
      border: none;
      font-size: 16px;
    }
    button {
      width: 100%;
      padding: 14px;
      border: none;
      border-radius: 999px;
      font-size: 16px;
      font-weight: bold;
      cursor: pointer;
    }
    .primary {
      background: #3fa9f5;
      color: #000;
    }
    .danger {
      background: #ff4d4d;
      color: #000;
      margin-top: 10px;
    }
    .info {
      margin: 12px 0;
      padding: 10px;
      background: #1f1f1f;
      border-radius: 8px;
      font-size: 15px;
    }
    .hidden {
      display: none;
    }
  </style>
</head>
<body>

  <div class="card">
    <h1>AIW Taxi</h1>

    <!-- LOGIN -->
    <div id="loginBox">
      <label>ტელეფონის ნომერი</label>
      <input id="phone" placeholder="+9955..." />
      <button class="primary" onclick="login()">შესვლა</button>
    </div>

    <!-- DASHBOARD -->
    <div id="dashboard" class="hidden">
      <div class="info"><b>მძღოლი:</b> <span id="driverName">---</span></div>
      <div class="info"><b>ბალანსი:</b> <span id="balance">0.00</span> ₾</div>

      <label>გადარიცხვის თანხა</label>
      <input id="amount" type="number" placeholder="მაგ: 10" />

      <div class="info">
        საკომისიო: <b>0.50 ₾</b><br>
        ჩარიცხდება: <b><span id="net">0.00</span> ₾</b>
      </div>

      <button class="primary" onclick="calculate()">დათვლა</button>
      <button class="danger" onclick="withdraw()">გადარიცხვა</button>
    </div>
  </div>

  <script>
    // დროებითი ტესტური მონაცემი (backend-ის გარეშე)
    const TEST_DRIVER = {
      name: "Test Driver",
      balance: 150.75
    };

    function login() {
      const phone = document.getElementById("phone").value.trim();
      if (!phone) {
        alert("ჩაწერე ტელეფონის ნომერი");
        return;
      }

      // აქ მერე იქნება backend fetch
      document.getElementById("driverName").innerText = TEST_DRIVER.name;
      document.getElementById("balance").innerText = TEST_DRIVER.balance.toFixed(2);

      document.getElementById("loginBox").classList.add("hidden");
      document.getElementById("dashboard").classList.remove("hidden");
    }

    function calculate() {
      const amount = parseFloat(document.getElementById("amount").value || 0);
      if (amount <= 0) {
        alert("შეიყვანე თანხა");
        return;
      }
      const net = amount - 0.5;
      document.getElementById("net").innerText = net.toFixed(2);
    }

    function withdraw() {
      const amount = parseFloat(document.getElementById("amount").value || 0);
      if (amount <= 0) {
        alert("შეიყვანე თანხა");
        return;
      }
      alert(
        "ტესტი:\n" +
        "ჩამოიჭრება: " + (amount + 0.5).toFixed(2) + " ₾\n" +
        "მძღოლს ჩაერიცხება: " + (amount).toFixed(2) + " ₾"
      );
    }
  </script>

</body>
</html>
